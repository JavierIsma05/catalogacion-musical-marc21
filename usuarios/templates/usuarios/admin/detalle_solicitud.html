{% extends 'usuarios/admin/base_admin.html' %}

{% block page_title %}Detalle Solicitud{% endblock %}

{% block content %}
<div class="card">
    <div class="card-header d-flex justify-content-between align-items-center">
        <h4>Solicitud de Cuenta</h4>
        <div>
            {% if solicitud.estado == solicitud.ESTADO_PENDIENTE %}
            <form method="post" class="d-inline">
                {% csrf_token %}
                <input type="hidden" name="action" value="aprobar">
                <button class="btn btn-success">Aprobar</button>
            </form>
            <form method="post" class="d-inline ms-2">
                {% csrf_token %}
                <input type="hidden" name="action" value="rechazar">
                <button class="btn btn-danger">Rechazar</button>
            </form>
            {% else %}
                <span class="badge bg-secondary">{{ solicitud.get_estado_display }}</span>
            {% endif %}
        </div>
    </div>
    <div class="card-body">
        <dl class="row">
            <dt class="col-sm-3">Nombre</dt><dd class="col-sm-9">{{ solicitud.nombres }}</dd>
            <dt class="col-sm-3">Correo</dt><dd class="col-sm-9">{{ solicitud.correo }}</dd>
            <dt class="col-sm-3">Cédula</dt><dd class="col-sm-9">{{ solicitud.cedula }}</dd>
            <dt class="col-sm-3">Teléfono</dt><dd class="col-sm-9">{{ solicitud.telefono }}</dd>
            <dt class="col-sm-3">Tipo solicitado</dt><dd class="col-sm-9">{{ solicitud.tipo_usuario }}</dd>
            <dt class="col-sm-3">Motivo</dt><dd class="col-sm-9">{{ solicitud.motivo|linebreaksbr }}</dd>
            <dt class="col-sm-3">Fecha creación</dt><dd class="col-sm-9">{{ solicitud.fecha_creacion|date:'SHORT_DATETIME_FORMAT' }}</dd>
            <dt class="col-sm-3">Estado</dt><dd class="col-sm-9">{{ solicitud.get_estado_display }}</dd>
            {% if solicitud.fecha_respuesta %}
            <dt class="col-sm-3">Fecha respuesta</dt><dd class="col-sm-9">{{ solicitud.fecha_respuesta|date:'SHORT_DATETIME_FORMAT' }}</dd>
            <dt class="col-sm-3">Respondido por</dt><dd class="col-sm-9">{{ solicitud.respondido_por }}</dd>
            {% endif %}
        </dl>
    </div>
</div>
{% endblock %}