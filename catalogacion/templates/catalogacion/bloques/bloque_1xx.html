{# Bloque 1XX - Punto de acceso principal #}
<section id="bloque-1xx" class="bloque-section">
    <div class="card">
        <div class="card-header">
            <h5 class="mb-0">
                <i class="bi bi-person"></i>
                Bloque 1XX - Punto de Acceso Principal
            </h5>
        </div>
        <div class="card-body">
            
            {# Campo 100 - Compositor #}
            <div class="mb-3 pb-3 border-bottom">
                <h6 class="fw-bold mb-2">
                    <span class="badge bg-primary me-1">100</span> Compositor
                </h6>
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.compositor.id_for_label }}" class="form-label mb-0 small">
                            {{ form.compositor.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.compositor }}
                        {% if form.compositor.errors %}
                            <div class="invalid-feedback d-block">{{ form.compositor.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.autoria.id_for_label }}" class="form-label mb-0 small">
                            {{ form.autoria.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.autoria }}
                        {% if form.autoria.errors %}
                            <div class="invalid-feedback d-block">{{ form.autoria.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                {# Subcampo repetible: 100 $e - Funciones #}
                <div class="mt-3 ms-3 ps-3 border-start border-2">
                    <div class="d-flex justify-content-between align-items-center mb-2">
                        <h6 class="fw-bold mb-0 small">
                            <span class="badge bg-secondary me-1">100$e</span> Funciones <span class="badge bg-secondary ms-1">R</span>
                        </h6>
                    </div>
                    {% include 'catalogacion/includes/formset_template.html' with formset=funciones_compositor titulo="Función" %}
                </div>
            </div>
            
            {# Campo 130 - Título uniforme (punto de acceso principal) #}
            <div class="mb-3 pb-3 border-bottom">
                <h6 class="fw-bold mb-2">
                    <span class="badge bg-primary me-1">130</span> Título Uniforme Principal
                </h6>
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.titulo_uniforme.id_for_label }}" class="form-label mb-0 small">
                            {{ form.titulo_uniforme.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.titulo_uniforme }}
                        {% if form.titulo_uniforme.errors %}
                            <div class="invalid-feedback d-block">{{ form.titulo_uniforme.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.forma_130.id_for_label }}" class="form-label mb-0 small">
                            {{ form.forma_130.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.forma_130 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.medio_interpretacion_130.id_for_label }}" class="form-label mb-0 small">
                            {{ form.medio_interpretacion_130.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.medio_interpretacion_130 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.tonalidad_130.id_for_label }}" class="form-label mb-0 small">
                            {{ form.tonalidad_130.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.tonalidad_130 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.numero_parte_130.id_for_label }}" class="form-label mb-0 small">
                            {{ form.numero_parte_130.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.numero_parte_130 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.nombre_parte_130.id_for_label }}" class="form-label mb-0 small">
                            {{ form.nombre_parte_130.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.nombre_parte_130 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.arreglo_130.id_for_label }}" class="form-label mb-0 small">
                            {{ form.arreglo_130.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.arreglo_130 }}
                    </div>
                </div>
            </div>
            
            {# Campo 240 - Título uniforme subordinado #}
            <div class="mb-3">
                <h6 class="fw-bold mb-2">
                    <span class="badge bg-primary me-1">240</span> Título Uniforme (subordinado al 100)
                </h6>
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.titulo_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.titulo_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.titulo_240 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.forma_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.forma_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.forma_240 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.medio_interpretacion_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.medio_interpretacion_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.medio_interpretacion_240 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.tonalidad_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.tonalidad_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.tonalidad_240 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.numero_parte_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.numero_parte_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.numero_parte_240 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.nombre_parte_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.nombre_parte_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.nombre_parte_240 }}
                    </div>
                </div>
                
                <div class="row align-items-center mb-2">
                    <div class="col-3">
                        <label for="{{ form.arreglo_240.id_for_label }}" class="form-label mb-0 small">
                            {{ form.arreglo_240.label }}:
                        </label>
                    </div>
                    <div class="col-9">
                        {{ form.arreglo_240 }}
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</section>
