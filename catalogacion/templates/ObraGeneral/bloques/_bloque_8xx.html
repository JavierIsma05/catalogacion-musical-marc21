<!-- ============================================ -->
<!-- BLOQUE 8XX ‚Äì 852 UBICACIONES (id√©ntico estilo 6XX) -->
<!-- ============================================ -->

<div class="card border-0 shadow-sm mb-4" id="bloque-8xx-852">
  <div class="card-body">
    <h2 class="section-title">852 ‚Äì UBICACIONES</h2>

    <!-- Contenedor donde existe SIEMPRE UNA ubicaci√≥n al cargar -->
    <div id="ubicacion852-container">
      <div class="campo-repetible" data-campo="ubicacion852-0">
        <div class="campo-header">
          <span class="campo-label">Ubicaci√≥n (852) #1</span>
          <button type="button" class="btn btn-outline-danger btn-remove"
                  onclick="eliminarUbicacion852()">
            Eliminar
          </button>
        </div>

        <!-- Subcampos principales -->
        <div class="row g-2 mb-3">
          <div class="col-md-6">
            <label class="subcampo-label">$a Instituci√≥n o persona (NR)</label>
            <input type="text" name="ubicacion852_a_0" class="form-control"
                   placeholder="Ej: Universidad Nacional de Loja">
          </div>
          <div class="col-md-6">
            <label class="subcampo-label">$h Signatura original (NR)</label>
            <input type="text" name="ubicacion852_h_0" class="form-control"
                   placeholder="Ej: UNL-MUS-0456">
          </div>
        </div>

        <!-- Subcampo $c (repetible) -->
        <div class="subcampo-group mt-2">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <label class="subcampo-label mb-0">$c Estanter√≠a / Departamento (R)</label>
            <button type="button" class="btn btn-outline-primary btn-sm"
                    onclick="agregarC852()">
              Agregar $c
            </button>
          </div>

          <div id="ubicacion852-0-campos">
            <!-- primer $c por defecto -->
            <div class="mb-2" data-subcampo="c852-0">
              <div class="input-group input-group-sm">
                <input type="text" name="ubicacion852_c_0_0" class="form-control"
                       placeholder="Ej: Sala M√∫sica Antigua, Estante 4B">
                <button type="button" class="btn btn-outline-danger"
                        onclick="eliminarSubcampo('c852-0')">X</button>
              </div>
            </div>
          </div>
        </div>
        <!-- /$c -->
      </div>
    </div>

    <!-- Bot√≥n global: oculto porque ya hay una ubicaci√≥n creada -->
    <button id="btnAgregarUbicacion852" type="button"
            class="btn btn-outline-primary btn-add-field mt-3"
            onclick="agregarUbicacion852()" style="display:none;">
      Agregar Ubicaci√≥n (852)
    </button>
  </div>
</div>

<!-- ======= TEMPLATE para recrear la ubicaci√≥n si la borran ======= -->
<template id="tpl-ubicacion852">
  <div class="campo-repetible" data-campo="ubicacion852-0">
    <div class="campo-header">
      <span class="campo-label">Ubicaci√≥n (852) #1</span>
      <button type="button" class="btn btn-outline-danger btn-remove"
              onclick="eliminarUbicacion852()">
        Eliminar
      </button>
    </div>

    <div class="row g-2 mb-3">
      <div class="col-md-6">
        <label class="subcampo-label">$a Instituci√≥n o persona (NR)</label>
        <input type="text" name="ubicacion852_a_0" class="form-control"
               placeholder="Ej: Universidad Nacional de Loja">
      </div>
      <div class="col-md-6">
        <label class="subcampo-label">$h Signatura original (NR)</label>
        <input type="text" name="ubicacion852_h_0" class="form-control"
               placeholder="Ej: UNL-MUS-0456">
      </div>
    </div>

    <div class="subcampo-group mt-2">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <label class="subcampo-label mb-0">$c Estanter√≠a / Departamento (R)</label>
        <button type="button" class="btn btn-outline-primary btn-sm"
                onclick="agregarC852()">
          Agregar $c
        </button>
      </div>

      <div id="ubicacion852-0-campos">
        <div class="mb-2" data-subcampo="c852-0">
          <div class="input-group input-group-sm">
            <input type="text" name="ubicacion852_c_0_0" class="form-control"
                   placeholder="Ej: Sala M√∫sica Antigua, Estante 4B">
            <button type="button" class="btn btn-outline-danger"
                    onclick="eliminarSubcampo('c852-0')">X</button>
          </div>
        </div>
      </div>
    </div>
  </div>

</template>
<!-- ===================================================== -->
<!-- BLOQUE 856 ‚Äì RECURSOS DISPONIBLES -->
<!-- ===================================================== -->
<div class="card border-0 shadow-sm mb-4">
  <div class="card-body">
    <h2 class="section-title">856 ‚Äì Recursos disponibles</h2>

    <div id="recurso856-container"></div>

    <button id="btnAgregarRecurso856" type="button"
            class="btn btn-outline-primary btn-add-field mt-3"
            onclick="agregarRecurso856()">
      Agregar Recurso (856)
    </button>
  </div>
</div>

<!-- üì¶ Plantilla oculta para clonar -->
<template id="tpl-recurso856">
  <div class="campo-repetible mb-4 p-3 border rounded">
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5 class="mb-0 fw-bold">Recurso disponible (856)</h5>
      <button type="button" class="btn btn-outline-danger btn-sm" onclick="eliminarRecurso856()">Eliminar</button>
    </div>

    <!-- Subcampo $u -->
    <div class="subcampo-group mt-2">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <label class="subcampo-label mb-0">$u URL del recurso (R)</label>
        <button type="button" class="btn btn-outline-primary btn-sm" onclick="agregarU856()">Agregar $u</button>
      </div>
      <div id="recurso856-0-urls">
        <div class="mb-2" data-subcampo="u856-0">
          <div class="input-group input-group-sm">
            <input type="url" name="recurso856_u_0_0" class="form-control" placeholder="https://...">
            <button type="button" class="btn btn-outline-danger" onclick="eliminarSubcampo('u856-0')">X</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Subcampo $y -->
    <div class="subcampo-group mt-3">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <label class="subcampo-label mb-0">$y Texto del enlace (R)</label>
        <button type="button" class="btn btn-outline-primary btn-sm" onclick="agregarY856()">Agregar $y</button>
      </div>
      <div id="recurso856-0-textos">
        <div class="mb-2" data-subcampo="y856-0">
          <div class="input-group input-group-sm">
            <input type="text" name="recurso856_y_0_0" class="form-control"
                   placeholder="Ej: Ver partitura, Escuchar audio, etc.">
            <button type="button" class="btn btn-outline-danger" onclick="eliminarSubcampo('y856-0')">X</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
